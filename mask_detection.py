# USAGE
# python detect_mask_image.py --image examples/example_01.png

# import the necessary packages
from tensorflow.keras.applications.mobilenet_v2 import preprocess_input
from tensorflow.keras.preprocessing.image import img_to_array
from tensorflow.keras.models import load_model
import numpy as np
import argparse
import cv2
import os

# construct the argument parser and parse the arguments
ap = argparse.ArgumentParser()
ap.add_argument("-i", "--image",
	help="path to input image")
ap.add_argument("-f", "--face", type=str,
	default="face_detector",
	help="path to face detector model directory")
ap.add_argument("-m", "--model", type=str,
	default="mask_detector.model",
	help="path to trained face mask detector model")
ap.add_argument("-c", "--confidence", type=float, default=0.5,
	help="minimum probability to filter weak detections")
args = vars(ap.parse_args())

# load our serialized face detector model from disk
print("[INFO] loading face detector model...")
prototxtPath = os.path.sep.join([args["face"], "deploy.prototxt"])
weightsPath = os.path.sep.join([args["face"],
	"res10_300x300_ssd_iter_140000.caffemodel"])
net = cv2.dnn.readNet(prototxtPath, weightsPath)

# load the face mask detector model from disk
print("[INFO] loading face mask detector model...")
model = load_model(args["model"])

# load the input image from disk, clone it, and grab the image spatial
# dimensions

###############################################################
# NEW METHOD TRY
base64_img = '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'
import cv2
import numpy as np
import base64
image = ""  # raw data with base64 encoding
decoded_data = base64.b64decode(base64_img)
np_data = np.fromstring(decoded_data,np.uint8)
image = cv2.imdecode(np_data,cv2.IMREAD_UNCHANGED)

# cv2.imshow("image", image)
# cv2.waitKey(1)
###############################################################


#manjeet_with_mask.jpeg
#image = cv2.imread(args["image"])


#orig = image.copy()
(h, w) = image.shape[:2]

# construct a blob from the image
blob = cv2.dnn.blobFromImage(image, 1.0, (150, 150),
	(104.0, 177.0, 123.0))

# pass the blob through the network and obtain the face detections
print("[INFO] computing face detections...")
net.setInput(blob)
detections = net.forward()

# loop over the detections
for i in range(0, detections.shape[2]):
	# extract the confidence (i.e., probability) associated with
	# the detection
	confidence = detections[0, 0, i, 2]

	# filter out weak detections by ensuring the confidence is
	# greater than the minimum confidence
	if confidence > args["confidence"]:
		# compute the (x, y)-coordinates of the bounding box for
		# the object
		box = detections[0, 0, i, 3:7] * np.array([w, h, w, h])
		(startX, startY, endX, endY) = box.astype("int")

		# ensure the bounding boxes fall within the dimensions of
		# the frame
		(startX, startY) = (max(0, startX), max(0, startY))
		(endX, endY) = (min(w - 1, endX), min(h - 1, endY))

		# extract the face ROI, convert it from BGR to RGB channel
		# ordering, resize it to 224x224, and preprocess it
		face = image[startY:endY, startX:endX]

		face = cv2.cvtColor(face, cv2.COLOR_BGR2RGB)
		face = cv2.resize(face, (224, 224))
		face = img_to_array(face)
		face = preprocess_input(face)
		face = np.expand_dims(face, axis=0)

		# pass the face through the model to determine if the face
		# has a mask or not
		(mask, withoutMask) = model.predict(face)[0]

		# determine the class label and color we'll use to draw
		# the bounding box and text
		label = "Mask" if mask > withoutMask else "No Mask"
		color = (0, 255, 0) if label == "Mask" else (0, 0, 255)

		# include the probability in the label
		label = "{}: {:.2f}%".format(label, max(mask, withoutMask) * 100)
		print(label)
		# display the label and bounding box rectangle on the output
		# frame
		cv2.putText(image, label, (startX, startY - 10),
			cv2.FONT_HERSHEY_SIMPLEX, 0.45, color, 2)
		cv2.rectangle(image, (startX, startY), (endX, endY), color, 2)

# show the output image
#cv2.imshow("Output", image)
#cv2.waitKey(0)
